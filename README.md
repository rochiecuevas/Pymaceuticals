# Comparison of effects of 10 anti-cancer drugs on three cancer metrics in mice
## Overview
## Getting Started
Python modules Pandas, Numpy, and MatPlotLib were used for data analyses and visualisation.

```python
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
```

To standardise the size and the colour schemes for each graph to be generated, the style was set to `ggplot` and the dimensions were set before any of the analyses were conducted.

```python
# Choose ggplot as style for plots
plt.style.use('ggplot')

# Size of plots
fig_size = plt.rcParams["figure.figsize"] # get current size
fig_size[0] = 12
fig_size[1] = 8
plt.rcParams["figure.figsize"] = fig_size # customise plot size
```

The data came from two .csv files: `mouse_drug_data.csv` and `clinicaltrial_data.csv`. These files were merged into a dataframe `mt_df`. Four of the ten treatments were used for the analyses; hence, the dataframe was further filtered so that only the four drug therapies of concern were included.

```python
# Load csv
mouse_drug_data_to_load = "mouse_drug_data.csv"
clinical_trial_data_to_load = "clinicaltrial_data.csv"

# Read the Mouse and Drug Data and the Clinical Trial Data
mouse_df = pd.read_csv(mouse_drug_data_to_load)
trial_df = pd.read_csv(clinical_trial_data_to_load)

# Combine the data into a single dataset (mt = mouse trial)
mt_df = pd.merge(mouse_df, trial_df, on = "Mouse ID")

# Display the data table for preview
mt_df.head()

# select the four drugs for comparison
list_of_drugs = ["Capomulin", "Infubinol", "Ketapril", "Placebo"]
mt_df = mt_df[mt_df["Drug"].isin(list_of_drugs)]
mt_df.head()
```

## Data Analyses
### Experiment Overview
The experiment followed a repeat measures design in which there were two treatments: `time` and `drug`. Mice were randomly assigned to each drug treatment and response variables, `tumour volume` and `number of metastatic sites`. A third response variable, `number of surviving mice`, was extracted based on the number of observations per time. A table was generated to provide an overview of the experimental set-up.

```python
# list of subjects and treatments
mouse = mt_df["Mouse ID"].unique()
drugs = mt_df["Drug"].unique()
time = mt_df["Timepoint"].unique()

# counts of subjects and treatments
mouse_popn = len(mouse)
no_drugs = len(drugs)
no_measurements = len(time)
no_samples = no_drugs * no_measurements

# summarise in a dataframe
overview = pd.DataFrame({"Number of Mice": mouse_popn,
                         "Number of Drug Treatments": [no_drugs],
                         "Number of Time Measurements": [no_measurements],
                         "Number of Samples": [no_samples]})
```                         

### Data Preparation
A new dataframe, `mt_df2`, was generated by dropping the column containing the data on metastatic sites. The new dataframe was then converted into a groupby object in which the results were grouped according to both `Timepoint` and `Drug`.

```python
# Group the data by drug and timepoint
mt_df2 = mt_df.drop("Metastatic Sites", axis = 1)
mt_grped = mt_df2.groupby(["Drug","Timepoint"])
```
The means and the standard errors of the mean (sem) of tumour volumes were then calculated and placed in separate dataframes `tumour_means` and `tumour_sem`.

```python
# Get the mean and SEM of tumour volume
tumour_means = pd.DataFrame(mt_grped["Tumor Volume (mm3)"].mean()) # mean for each Drug-Timepoint combination
tumour_sem = pd.DataFrame(mt_grped["Tumor Volume (mm3)"].sem()) # SEM for each Drug-Timepoint combination
```

Because both dataframes were "stacked" (long), these were unstacked.  

```python
# reshape the data
tumour_means = tumour_means.unstack(0)
tumour_sem = tumour_sem.unstack(0)

tumour_means = tumour_means["Tumor Volume (mm3)"]
tumour_sem = tumour_sem["Tumor Volume (mm3)"]
```

The values for the x-axis were then assigned.

```python
# values for plotting
x_axis = np.arange(0, time.max() + 5, 5) # time
no_series = np.arange(0,no_drugs)
```

### Tumour Size Changes

### Tumour Response Over Time
### Metastatic Response to Treatment
### Survival Rates
## Resources